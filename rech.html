tu<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site d'Apprentissage BTS</title>
    <link rel="stylesheet" href="style.css">
<style>
    body { margin:0; background:#0a0a0a; color:white; font-family:'Segoe UI',sans-serif; padding:2rem 1rem; }
    .container { max-width:1000px; margin:0 auto; text-align:center; }
    h1 { font-size:3rem; color:#00ff9d; text-shadow:0 0 30px rgba(0,255,157,0.5); margin-bottom:1rem; }
    .search-box { margin:3rem auto; max-width:800px; }
    #question { width:100%; padding:1.6rem 2rem; font-size:1.5rem; border-radius:50px; border:4px solid #00ff9d; background:#111; color:white; outline:none; }
    #question:focus { box-shadow:0 0 40px rgba(0,255,157,0.8); }
    #answer { margin-top:3rem; text-align:left; background:#111; padding:2.5rem; border-radius:20px; border:2px solid #333; min-height:200px; font-size:1.3rem; line-height:1.8; display:none; }
    #answer.show { display:block; animation:fade 0.6s; }
    .pdfs { margin-top:2rem; }
    .pdf-card { background:#0f0f0f; padding:1rem; margin:1rem 0; border-left:5px solid #00ff9d; border-radius:8px; }
    .loading { color:#00ff9d; font-size:1.5rem; margin:3rem; }
    footer { margin-top:6rem; color:#00ff9d; }
    @keyframes fade { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:none;} }
  </style>
</head>
<body>

  <div class="container">
    <h1>IA √âlectrom√©canique</h1>
    <p style="color:#b0ffdb;font-size:1.6rem;margin-bottom:2rem;">
      Pose n‚Äôimporte quelle question ‚Üí je t‚Äôexplique clairement + je te donne les PDF correspondants
    </p>

    <div class="search-box">
      <input type="text" id="question" placeholder="Ex : comment fonctionne un variateur de fr√©quence ? ou comment c√¢bler un d√©marrage √©toile-triangle ?" autofocus>
    </div>

    <div id="answer"></div>
    <div class="loading" id="loading" style="display:none;">Grok r√©fl√©chit‚Ä¶ ‚ö°</div>

  </div>

  <footer>¬© Ivanipote ‚Äì Ton assistant IA √©lectrom√©canique 2025</footer>

  <script>
    const questionInput = document.getElementById("question");
    const answerDiv = document.getElementById("answer");
    const loading = document.getElementById("loading");

    // === CHOISIS TON IA ICI (3 options gratuites ou presque) ===
    const USE_GROK = false;        // true = Grok (n√©cessite cl√© API xAI)
    const USE_GROQ = true;         // true = Llama 3 70B ultra rapide (cl√© gratuite sur groq.com)
    const USE_OPENAI = false;     // true = ChatGPT (cl√© payante mais excellente)

    let GROQ_API_KEY = "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"; // ‚Üê mets ta cl√© Groq ici (gratuit jusqu‚Äô√† ~1000 requ√™tes/jour)

    questionInput.addEventListener("keypress", async (e) => {
      if (e.key === "Enter" && questionInput.value.trim()) {
        const query = questionInput.value.trim();
        answerDiv.classList.remove("show");
        answerDiv.innerHTML = "";
        loading.style.display = "block";

        // 1. R√©ponse IA
        let explanation = "D√©sol√©, l‚ÄôIA n‚Äôest pas configur√©e.";
        if (USE_GROQ) {
          explanation = await askGroq(query);
        } else if (USE_GROK) {
          explanation = await askGrok(query);
        } else if (USE_OPENAI) {
          explanation = await askOpenAI(query);
        }

        // 2. Recherche dans tes PDF (texte complet)
        const pdfMatches = await searchInMyPDFs(query);

        // Affichage final
        answerDiv.innerHTML = `
          <h2 style="color:#00ff9d;">R√©ponse IA :</h2>
          <p>${explanation.replace(/\n/g, "<br>")}</p>
          ${pdfMatches.length > 0 ? `<h2 style="color:#00ff9d;margin-top:3rem;">PDF trouv√©s dans ton cours :</h2><div class="pdfs">${pdfMatches}</div>` : ""}
        `;
        loading.style.display = "none";
        answerDiv.classList.add("show");
        questionInput.value = "";
      }
    });

    // Fonction Groq (Llama 3 70B ‚Äì gratuit & ultra rapide)
    async function askGroq(query) {
      const response = await fetch("https://api.groq.com/openai/v1/chat/completions", {
        method: "POST",
        headers: {
          "Authorization": `Bearer ${GROQ_API_KEY}`,
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          model: "llama3-70b-8192",
          messages: [{ role: "system", content: "Tu es un professeur d‚Äô√©lectrom√©canique tr√®s clair, qui explique aux √©l√®ves de Bac Pro et BTS avec des exemples simples et des sch√©mas mentaux. R√©ponds toujours en fran√ßais." },
                     { role: "user", content: query }],
          temperature: 0.7,
          max_tokens: 1024
        })
      });
      const data = await response.json();
      return data.choices[0].message.content;
    }

    // Recherche dans tes propres PDF (m√™me code que la page pr√©c√©dente)
    async function searchInMyPDFs(query) {
      const lowerQuery = query.toLowerCase();
      const res = await fetch(`https://api.github.com/repos/ivanipote/Telech/contents/myfiles`);
      const files = await res.json();
      const pdfFiles = files.filter(f => f.name.toLowerCase().endsWith('.pdf'));
      let matches = "";

      for (let file of pdfFiles) {
        const rawUrl = `https://raw.githubusercontent.com/ivanipote/Telech/main/myfiles/${encodeURIComponent(file.name)}`;
        const text = await fetch(rawUrl).then(r => r.text().toLowerCase());
        if (text.includes(lowerQuery)) {
          matches += `
            <div class="pdf-card">
              <strong>üìÑ ${file.name}</strong><br>
              <a href="${rawUrl}" download style="color:#00ff9d;">‚¨á T√©l√©charger</a> ‚Ä¢ 
              <a href="${rawUrl}" target="_blank" style="color:#00cc7a;">üëÅ Ouvrir</a>
            </div>`;
        }
      }
      return matches;
    }
  </script>
</body>
</html>

  </script>
</body>
</html>
    </main>

    

    <!-- Barre de navigation du bas (inchang√©e, toute blanche) -->
    <nav class="bottom-nav">
        <ul>
            <li><a href="index.html">Accueil</a></li>
            <li><a href="propos.html">√Ä Propos</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="conf.html">confidentialit√©</a></li>
        </ul>
    </nav>

    <script src="script.js"></script>
</body>
      </html>
  
